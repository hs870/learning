{% extends 'base.html' %}
{% block content_of_page %}


https://www.geeksforgeeks.org/get-and-post-method-using-fetch-api/


//  main.js 
   
//  GET request using fetch() 
fetch("https://jsonplaceholder.typicode.com/users") 
    
    // Converting received data to JSON 
    .then(response => response.json()) 
    .then(json => { 
   
        // Create a variable to store HTML 
        let li = `<tr><th>Name</th><th>Email</th></tr>`; 
        
        // Loop through each data and add a table row 
        json.forEach(user => { 
            li += `<tr> 
                <td>${user.name} </td> 
                <td>${user.email}</td>          
            </tr>`; 
        }); 
   
    // Display result 
    document.getElementById("users").innerHTML = li; 
}); 

------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------

//  main.js 
   
// POST request using fetch() 
fetch("https://jsonplaceholder.typicode.com/posts", { 
      
    // Adding method type 
    method: "POST", 
      
    // Adding body or contents to send 
    body: JSON.stringify({ 
        title: "foo", 
        body: "bar", 
        userId: 1 
    }), 
      
    // Adding headers to the request 
    headers: { 
        "Content-type": "application/json; charset=UTF-8"
    } 
}) 
  
// Converting to JSON 
.then(response => response.json()) 
  
// Displaying results to console 
.then(json => console.log(json)); 


------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
https://attacomsian.com/blog/xhr-json-post-request

// create a JSON object
const json = {
  email: 'hi@attacomsian.com',
  password: '123abc'
}

// request options
const options = {
  method: 'POST',
  body: JSON.stringify(json),
  headers: {
    'Content-Type': 'application/json'
  }
}

// send post request
fetch('/login', options)
  .then(res => res.json())
  .then(res => console.log(res))
  .catch(err => console.error(err))

{% endblock %}
